<!DOCTYPE html>
<html>

<head>
  <title></title>
</head>

<body>
  <script type="text/javascript">
    //게임을 시작하는 함수입니다. 
    //랜덤 숫자를 뽑는 함수입니다.
    function gamestart() {
      function getRandomNumber(max, min) {
        return Math.floor(Math.random() * (max - min) + min);
      }
      //정답을 만드는 함수입니다. 
      function makingAnswer() {
        answer = [];
        while (answer.length < 3) {
          var newNumber = getRandomNumber(10, 1);
          if (answer.includes(newNumber)) {
            continue;
          }
          answer.push(newNumber);
        }
        return answer;
      }
      //정답을 만드는 함수를 정답으로 반환하여 줍니다.
      var answer = makingAnswer();

      //answer와 userInput을 받아서 스트라이크와 볼의 개수를 세는 함수입니다. 
      function countScore(answer, userInput) {
        var strike = 0;
        var ball = 0;
        for (i = 0; i < 3; i++) {
          if (answer[i] == userInput[i]) {
            strike++;
          } else if (answer.includes(userInput[i])) {
            ball++;
          }

        }

        return { 'strike': strike, 'ball': ball };
      }

      //strike 가 3개가 될 때까지 반복합니다. 
      while (true) {
        //userInput을 받습니다.
        var userInput = prompt('정답을 입력해주세요.');
        var userInput = userInput.split('');
        var userInput = [Number(userInput[0]), Number(userInput[1]), Number(userInput[2])];
        var score = countScore(answer, userInput);
        var strike = score.strike;
        var ball = score.ball;
        //결과를 알려줍니다. 
        if (strike == 3) {
          alert('정답입니다.');
          break;
        } else if (strike == 0 && ball == 0) {
          alert('낫싱');

        } else if (strike == 0) {
          alert(ball + '볼');
        } else if (ball == 0) {
          alert(strike + '스트라이크');

        } else {
          alert(strike + '스트라이크' + ball + '볼');
        }

      }
    }
    //게임을 시작합니다 
    gamestart();
  </script>

</body>

</html>
